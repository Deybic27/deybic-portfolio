window.addEventListener("load",()=>{fetch("/api/V1/post").then(n=>n.json()).then(function(n){n.forEach((r,e)=>{const s=e+1,o=document.querySelector(".content-all-blog"),t=o.cloneNode(!0);t.id="post"+s,s>1&&t.classList.add("hidden"),t.href="blog/"+r.id,t.querySelector(".content-blog-img img").src=r.urlImage,t.querySelector(".content-blog-info p b").textContent=r.title,t.querySelector(".content-blog-info p:nth-child(2)").textContent=r.date.split("T")[0],t.querySelector(".content-blog-info p:nth-child(3)").textContent=r.author.toUpperCase(),o.parentElement.appendChild(t),e==0&&o.remove(),t.parentElement.classList.remove("visibility-hidden")})})});function f(n){const r=$("span.content-rotating-text").text();for(let e=0;e<n.length;e++)if(n[e]==r){const o=e+1;if(n[o]){$("span.content-rotating-text").text(n[o]);break}else{$("span.content-rotating-text").text(n[0]);break}}}$(document).ready(function(){var r=$("span.content-rotating-text").text().split(",");$("span.content-rotating-text").text(r[0]),setInterval(()=>{f(r)},3e3);var e=2,s=1,o,t;$("a#next").click(function(l){l.preventDefault(),$("#post"+e).is(":hidden")&&e<=7&&($("#post"+s).addClass("hidden"),$("#post"+e).removeClass("hidden"),o=e,t=s,e<=6&&(e+=1,s+=1,console.log(e+" "+s)))}),$("a#previous").click(function(l){l.preventDefault(),$("#post"+t).is(":hidden")&&o<=7&&($("#post"+o).addClass("hidden"),$("#post"+t).removeClass("hidden"),e=o,s=t,o-=1,t-=1,console.log(o+" "+t))}),$("a#show-menu").click(function(l){l.preventDefault(),$("header.desktop-header.close.show-menu-desktop").length?($("header.desktop-header").removeClass("show-menu-desktop"),$("header.mobile-header").removeClass("show-menu-mobile"),$("main").removeClass("show-main")):$("header.desktop-header.close").length&&($("header.desktop-header").addClass("show-menu-desktop"),$("header.mobile-header").addClass("show-menu-mobile"),$("main").addClass("show-main"))})});document.querySelector("#contact-form").addEventListener("submit",n=>{var u;n.preventDefault();const r=n.target.querySelector("#name"),e=n.target.querySelector("#email"),s=n.target.querySelector("#subject"),o=n.target.querySelector("#message");(u=n.target.querySelectorAll(".error"))==null||u.forEach(a=>a.remove());let t=!1,l=!0;var p=/^\w+([.-_+]?\w+)*@\w+([.-]?\w+)*(\.\w{2,10})+$/;const i=document.createElement("div");if(i.classList.add("error"),i.textContent="Campo obligatorio",r.value.length==0){let a=i.cloneNode(!0);r.parentElement.appendChild(a),t=!0,l&&(r.focus(),l=!1)}if(e.value.length==0){let a=i.cloneNode(!0);e.parentElement.appendChild(a),t=!0,l&&(e.focus(),l=!1)}if(e.value.length>0&&!p.test(e.value)){let a=i.cloneNode(!0);a.textContent="Correo electrónico inválido",e.parentElement.appendChild(a),t=!0,l&&(e.focus(),l=!1)}if(s.value.length==0){let a=i.cloneNode(!0);s.parentElement.appendChild(a),t=!0,l&&(s.focus(),l=!1)}if(o.value.length==0){let a=i.cloneNode(!0);o.parentElement.appendChild(a),t=!0,l&&(o.focus(),l=!1)}if(t!=!0){var d=new FormData;d.append("fromName",r.value),d.append("fromEmail",e.value),d.append("subject",s.value),d.append("text",o.value);var h={method:"POST",body:d,redirect:"follow"};fetch("/api/portfolio/V1/send-email-contact",h).then(a=>{if(a.status==200){let c=i.cloneNode(!0);return c.classList.remove("error"),c.classList.add("ok"),c.textContent="Mensaje enviado",n.target.appendChild(c),r.value="",e.value="",s.value="",o.value="",setTimeout(()=>{c.remove()},3e3),a.text()}let m=i.cloneNode(!0);return m.textContent="Servicio no disponible",n.target.appendChild(m),a.text()})}});
